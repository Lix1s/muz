{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/entities/guitar/ui/guitar-card.tsx"],"sourcesContent":["\"use client\"\nimport React from \"react\";\nimport { useAppContext } from \"#/widgets/context\";\nimport { Item } from \"#/types\";\nimport Link from \"next/link\";\n\ninterface GuitarCardProps extends Item {}\n\nexport function GuitarCard({\n  id,\n  imageUrl,\n  category,\n  title,\n  price = 0, // Добавляем значение по умолчанию\n}: GuitarCardProps) {\n  const { \n    onAddToCart, \n    isItemInCart,\n    addToFavorites,\n    removeFromFavorites,\n    isItemInFavorites\n  } = useAppContext();\n\n  const isAdded = isItemInCart(title);\n  const isFavorite = isItemInFavorites(id);\n\n  const toggleFavorite = () => {\n    if (isFavorite) {\n      removeFromFavorites(id);\n    } else {\n      addToFavorites({ id, imageUrl, category, title, price });\n    }\n  };\n\n  const onAdd = () => {\n    onAddToCart({ id, imageUrl, category, title, price });\n  };\n\n  // Добавляем проверку на undefined и преобразование к числу\n  const safePrice = Number(price) || 0;\n  const formattedPrice = safePrice.toLocaleString(\"ru-RU\");\n\n  return (\n    <div className=\"card\" key={id}>\n      <Link href={`/tovar/${encodeURIComponent(title)}`}>\n        <button className=\"img\">\n          <img src={imageUrl} alt=\"products\" />\n        </button>\n      </Link>\n      \n      <button onClick={toggleFavorite} className=\"favorite-button\">\n        {isFavorite ? (\n          <img className=\"img5\" src=\"/icons/onFavourite.svg\" alt=\"Remove from Favorites\" />\n        ) : (\n          <img className=\"img5\" src=\"/icons/favourite.svg\" alt=\"Add to Favorites\" />\n        )}\n      </button>\n      \n      <p>{category}</p>\n      <a>{title}</a>\n      <b>{formattedPrice} ₽.</b>\n      <button className=\"add\">\n        {!isAdded ? (\n          <button onClick={() => onAdd()}>\n            <img className=\"img2\" src=\"/pictures/toCart.svg\" alt=\"Add to Cart\" />\n          </button>\n        ) : (\n          <Link href=\"/cart\">\n            <img className=\"img2\" src=\"/pictures/inCart.svg\" alt=\"In Cart\" />\n          </Link>\n        )}\n      </button>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAAA;AAEA;AAJA;;;;AAQO,SAAS,WAAW,EACzB,EAAE,EACF,QAAQ,EACR,QAAQ,EACR,KAAK,EACL,QAAQ,CAAC,EACO;IAChB,MAAM,EACJ,WAAW,EACX,YAAY,EACZ,cAAc,EACd,mBAAmB,EACnB,iBAAiB,EAClB,GAAG,CAAA,GAAA,2IAAA,CAAA,gBAAa,AAAD;IAEhB,MAAM,UAAU,aAAa;IAC7B,MAAM,aAAa,kBAAkB;IAErC,MAAM,iBAAiB;QACrB,IAAI,YAAY;YACd,oBAAoB;QACtB,OAAO;YACL,eAAe;gBAAE;gBAAI;gBAAU;gBAAU;gBAAO;YAAM;QACxD;IACF;IAEA,MAAM,QAAQ;QACZ,YAAY;YAAE;YAAI;YAAU;YAAU;YAAO;QAAM;IACrD;IAEA,2DAA2D;IAC3D,MAAM,YAAY,OAAO,UAAU;IACnC,MAAM,iBAAiB,UAAU,cAAc,CAAC;IAEhD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,4JAAA,CAAA,UAAI;gBAAC,MAAM,CAAC,OAAO,EAAE,mBAAmB,QAAQ;0BAC/C,cAAA,8OAAC;oBAAO,WAAU;8BAChB,cAAA,8OAAC;wBAAI,KAAK;wBAAU,KAAI;;;;;;;;;;;;;;;;0BAI5B,8OAAC;gBAAO,SAAS;gBAAgB,WAAU;0BACxC,2BACC,8OAAC;oBAAI,WAAU;oBAAO,KAAI;oBAAyB,KAAI;;;;;yCAEvD,8OAAC;oBAAI,WAAU;oBAAO,KAAI;oBAAuB,KAAI;;;;;;;;;;;0BAIzD,8OAAC;0BAAG;;;;;;0BACJ,8OAAC;0BAAG;;;;;;0BACJ,8OAAC;;oBAAG;oBAAe;;;;;;;0BACnB,8OAAC;gBAAO,WAAU;0BACf,CAAC,wBACA,8OAAC;oBAAO,SAAS,IAAM;8BACrB,cAAA,8OAAC;wBAAI,WAAU;wBAAO,KAAI;wBAAuB,KAAI;;;;;;;;;;yCAGvD,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAK;8BACT,cAAA,8OAAC;wBAAI,WAAU;wBAAO,KAAI;wBAAuB,KAAI;;;;;;;;;;;;;;;;;OAzBlC;;;;;AA+B/B","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/entities/guitar/ui/index.ts"],"sourcesContent":["export * from './guitar-card';\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/entities/guitar/index.ts"],"sourcesContent":["export * from './ui';\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/views/favourite/ui/Favourite.tsx"],"sourcesContent":["\"use client\"\nimport React from 'react';\nimport Link from 'next/link';\nimport { useAppContext } from '#/widgets/context';\nimport { GuitarCard } from '#/entities/guitar';\nimport './favourite.css';\n\nexport function FavoritesPage() {\n  const { favorites, removeFromFavorites } = useAppContext();\n\n  if (!favorites) {\n    return <div className=\"container\">Loading...</div>;\n  }\n\n  return (\n    <div className=\"container\">\n      <h1>Избранные товары</h1>\n      \n      {favorites.length === 0 ? (\n        <div className=\"empty-favorites\">\n          <p>В избранном пока нет товаров</p>\n          <Link href=\"/catalog\">\n            <button className=\"btn-primary\">Перейти в каталог</button>\n          </Link>\n        </div>\n      ) : (\n        <div className=\"favorites-grid\">\n          {favorites.map((item) => (\n            <div key={`fav-${item.id}`} className=\"favorite-item\">\n              <GuitarCard \n                id={item.id}\n                imageUrl={item.imageUrl}\n                category={item.category}\n                title={item.title}\n                price={item.price}\n              />\n              {/* <button \n                onClick={() => removeFromFavorites(item.id)}\n                className=\"remove-favorite\"\n              >\n                Удалить из избранного\n              </button> */}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default FavoritesPage;"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAJA;;;;;;AAOO,SAAS;IACd,MAAM,EAAE,SAAS,EAAE,mBAAmB,EAAE,GAAG,CAAA,GAAA,2IAAA,CAAA,gBAAa,AAAD;IAEvD,IAAI,CAAC,WAAW;QACd,qBAAO,8OAAC;YAAI,WAAU;sBAAY;;;;;;IACpC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;0BAAG;;;;;;YAEH,UAAU,MAAM,KAAK,kBACpB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;kCAAE;;;;;;kCACH,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;kCACT,cAAA,8OAAC;4BAAO,WAAU;sCAAc;;;;;;;;;;;;;;;;qCAIpC,8OAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC,qBACd,8OAAC;wBAA2B,WAAU;kCACpC,cAAA,8OAAC,kJAAA,CAAA,aAAU;4BACT,IAAI,KAAK,EAAE;4BACX,UAAU,KAAK,QAAQ;4BACvB,UAAU,KAAK,QAAQ;4BACvB,OAAO,KAAK,KAAK;4BACjB,OAAO,KAAK,KAAK;;;;;;uBANX,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;;;;;;;;;;;;;;;;AAoBtC;uCAEe","debugId":null}}]
}