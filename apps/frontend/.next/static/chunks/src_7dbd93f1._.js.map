{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/axios.ts"],"sourcesContent":["import { getCookie, setCookie } from \"~/shared/utils/cookie\";\nimport axios from \"axios\";\nimport { AuthResponse } from \"@internal/dto/dto.auth\";\n\nconst apiServer = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_SERVER_URL,\n  validateStatus: (status) => status < 400,\n});\n\nconst api = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\n  validateStatus: (status) => status < 400,\n});\n\nconst apiPrivate = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\n  validateStatus: (status) => status < 400,\n});\n\n// Добавляем interceptor для авторизации\napiPrivate.interceptors.request.use((config) => {\n  const accessToken = getCookie(\"access\");\n  if (accessToken) {\n    config.headers.Authorization = `Bearer ${accessToken}`;\n  }\n  return config;\n});\n\n// Interceptor для обработки 401 ошибки и refresh токена\napiPrivate.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    const originalRequest = error.config;\n    \n    if (\n      error.response?.status === 401 &&\n      !originalRequest._retry &&\n      getCookie(\"refresh\")\n    ) {\n      originalRequest._retry = true;\n      \n      try {\n        const { data } = await api.post<AuthResponse>(\"/auth/refresh\", {\n          refresh: getCookie(\"refresh\"),\n        });\n        \n        setCookie(\"access\", data.access);\n        originalRequest.headers.Authorization = `Bearer ${data.access}`;\n        \n        return apiPrivate(originalRequest);\n      } catch (refreshError) {\n        // Если refresh не удался, делаем logout\n        if (typeof window !== \"undefined\") {\n          window.location.href = \"/login?session=expired\";\n        }\n        return Promise.reject(refreshError);\n      }\n    }\n    \n    return Promise.reject(error);\n  }\n);\n\nexport { api, apiPrivate, apiServer };"],"names":[],"mappings":";;;;;AAKW;;;;;;AAJX;;;AAGA,MAAM,YAAY,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC7B,OAAO;IACP,gBAAgB,CAAC,SAAW,SAAS;AACvC;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,OAAO;IACP,gBAAgB,CAAC,SAAW,SAAS;AACvC;AAEA,MAAM,aAAa,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9B,OAAO;IACP,gBAAgB,CAAC,SAAW,SAAS;AACvC;AAEA,wCAAwC;AACxC,WAAW,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACnC,MAAM,cAAc,UAAU;IAC9B,IAAI,aAAa;QACf,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,aAAa;IACxD;IACA,OAAO;AACT;AAEA,wDAAwD;AACxD,WAAW,YAAY,CAAC,QAAQ,CAAC,GAAG,CAClC,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,IACE,MAAM,QAAQ,EAAE,WAAW,OAC3B,CAAC,gBAAgB,MAAM,IACvB,UAAU,YACV;QACA,gBAAgB,MAAM,GAAG;QAEzB,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,IAAI,CAAe,iBAAiB;gBAC7D,SAAS,UAAU;YACrB;YAEA,UAAU,UAAU,KAAK,MAAM;YAC/B,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,KAAK,MAAM,EAAE;YAE/D,OAAO,WAAW;QACpB,EAAE,OAAO,cAAc;YACrB,wCAAwC;YACxC,wCAAmC;gBACjC,OAAO,QAAQ,CAAC,IAAI,GAAG;YACzB;YACA,OAAO,QAAQ,MAAM,CAAC;QACxB;IACF;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/shared/utils/cookie.ts"],"sourcesContent":["export function getCookie(name: string) {\n  const matches = document.cookie.match(\n    new RegExp(\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, \"\\\\$1\") + \"=([^;]*)\")\n  )\n  return matches ? decodeURIComponent(matches[1]) : undefined\n}\n\nexport function deleteCookie(name: string) {\n  document.cookie = name + \"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;\"\n}"],"names":[],"mappings":";;;;AAAO,SAAS,UAAU,IAAY;IACpC,MAAM,UAAU,SAAS,MAAM,CAAC,KAAK,CACnC,IAAI,OAAO,aAAa,KAAK,OAAO,CAAC,gCAAgC,UAAU;IAEjF,OAAO,UAAU,mBAAmB,OAAO,CAAC,EAAE,IAAI;AACpD;AAEO,SAAS,aAAa,IAAY;IACvC,SAAS,MAAM,GAAG,OAAO;AAC3B","debugId":null}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/redux/slices/auth.ts"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { api, apiPrivate } from '../../axios';\nimport { setCookie, removeCookie } from '#/shared/utils/cookie';\n\ninterface AuthState {\n  data: null | any;\n  status: 'idle' | 'loading' | 'succeeded' | 'failed';\n  error: null | string | any;\n}\n\ninterface LoginParams {\n  email: string;\n  password: string;\n}\n\ninterface RegisterParams extends LoginParams {\n  confirmPassword: string;\n}\n\nconst initialState: AuthState = {\n  data: null,\n  status: 'idle',\n  error: null\n};\n\nexport const fetchAuth = createAsyncThunk(\n  'auth/login',\n  async (params: LoginParams, { rejectWithValue }) => {\n    try {\n      const { data } = await api.post('/auth/login', params);\n      \n      // Устанавливаем cookies\n      setCookie('access', data.access);\n      setCookie('refresh', data.refresh);\n      \n      return data.user;\n    } catch (err) {\n      return rejectWithValue(err.response?.data?.message || 'Login failed');\n    }\n  }\n);\n\nexport const fetchRegister = createAsyncThunk(\n  'auth/register',\n  async (params: RegisterParams, { rejectWithValue }) => {\n    try {\n      const { data } = await api.post('/auth/register', params);\n      return data.user;\n    } catch (err) {\n      return rejectWithValue(err.response?.data?.errors || 'Registration failed');\n    }\n  }\n);\n\nexport const fetchAuthMe = createAsyncThunk(\n  'auth/me',\n  async (_, { rejectWithValue }) => {\n    try {\n      const { data } = await apiPrivate.get('/auth/me');\n      return data;\n    } catch (err) {\n      return rejectWithValue(err.response?.data?.message || 'Not authorized');\n    }\n  }\n);\n\nexport const fetchLogout = createAsyncThunk(\n  'auth/logout',\n  async (_, { rejectWithValue }) => {\n    try {\n      await apiPrivate.post('/auth/logout');\n      removeCookie('access');\n      removeCookie('refresh');\n      return null;\n    } catch (err) {\n      return rejectWithValue(err.response?.data?.message || 'Logout failed');\n    }\n  }\n);\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    logout: (state) => {\n      state.data = null;\n      state.status = 'idle';\n      state.error = null;\n      removeCookie('access');\n      removeCookie('refresh');\n    },\n    clearError: (state) => {\n      state.error = null;\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchAuth.pending, (state) => {\n        state.status = 'loading';\n        state.error = null;\n      })\n      .addCase(fetchAuth.fulfilled, (state, action) => {\n        state.status = 'succeeded';\n        state.data = action.payload;\n      })\n      .addCase(fetchAuth.rejected, (state, action) => {\n        state.status = 'failed';\n        state.error = action.payload;\n      })\n      \n      // Аналогичные обработчики для register, authMe, logout...\n      .addMatcher(\n        (action) => action.type.startsWith('auth/') && action.type.endsWith('/pending'),\n        (state) => {\n          state.status = 'loading';\n          state.error = null;\n        }\n      )\n      .addMatcher(\n        (action) => action.type.startsWith('auth/') && action.type.endsWith('/fulfilled'),\n        (state, action) => {\n          state.status = 'succeeded';\n          if (action.type !== 'auth/logout/fulfilled') {\n            state.data = action.payload;\n          } else {\n            state.data = null;\n          }\n        }\n      )\n      .addMatcher(\n        (action) => action.type.startsWith('auth/') && action.type.endsWith('/rejected'),\n        (state, action) => {\n          state.status = 'failed';\n          state.error = action.payload;\n        }\n      );\n  }\n});\n\nexport const selectIsAuth = (state: { auth: AuthState }) => Boolean(state.auth.data);\nexport const selectAuthError = (state: { auth: AuthState }) => state.auth.error;\nexport const selectAuthStatus = (state: { auth: AuthState }) => state.auth.status;\nexport const selectCurrentUser = (state: { auth: AuthState }) => state.auth.data;\n\nexport const { logout, clearError } = authSlice.actions;\nexport const authReducer = authSlice.reducer;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/widgets/header/ui/header.tsx"],"sourcesContent":["\"use client\";\n\nimport { logout, selectIsAuth } from \"#/redux/slices/auth\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { fetchAuthMe } from \"#/redux/slices/auth\";\n\nimport \"./header.css\";\nimport Link from \"next/link\";\n\nexport function Header() {\n  const dispatch = useDispatch();\n  const isAuth = useSelector(selectIsAuth);\n  const onClickLogout = () => {\n    if (window.confirm(\"Вы уверены, что хотите выйти?\")) {\n      dispatch(logout());\n      window.localStorage.removeItem(\"token\");\n    }\n  };\n\n  return (\n    <>\n      <header className=\"header\">\n        <div className=\"container2\">\n          <div className=\"header_row\">\n            <div className=\"header__logo\">\n            <img src=\"/logo/NewLogo4.png\" alt=\"Logo\" />\n              <Link href=\"/\">\n                {\" \"}\n                <span>\n                  <a>AC</a>CORD\n                </span>\n              </Link>\n            </div>\n\n            <nav className=\"header_nav\">\n              <ul>\n                <li>\n                  <Link href=\"/new\">НОВИНКИ</Link>\n                </li>\n                <li>\n                  <Link href=\"/catalog\">КАТАЛОГ</Link>\n                </li>\n                <li>\n                  <Link href=\"/aboutUs\">МАГАЗИНЫ</Link>\n                </li>\n              </ul>\n            </nav>\n\n            <div className=\"header_nav_right\">\n              <ul>\n                {isAuth ? (\n                  <>\n                    <Link href=\"/cart\">\n                      <button className=\"trash_can\">\n                        Корзина\n                        <img src=\"/icons/cartIcon.png\" alt=\"can\" />\n                      </button>\n                    </Link>\n                    <div className=\"user_profile\">\n                      <button onClick={onClickLogout}>\n                        <Link href=\"/\">\n                          <button>Выйти</button>\n                        </Link>\n                      </button>\n                      <Link href=\"/profile\">\n                        <img src=\"/icons/profile.png\" alt=\"can\" />\n                      </Link>\n                    </div>\n                  </>\n                ) : (\n                  <>\n                    <button className=\"trash_can\">\n                      <Link href=\"/cart\">Корзина </Link>\n                      <img src=\"/icons/cartIcon.png\" alt=\"can\" />\n                    </button>\n\n                    <div className=\"user_profile\">\n                      <button>\n                        <Link href=\"/login\">Войти</Link>\n                      </button>\n                      <img src=\"/icons/profile.png\" alt=\"can\" />\n                    </div>\n                  </>\n                )}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </header>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAOA;;;AAVA;;;;;AAYO,SAAS;;IACd,MAAM,WAAW,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,SAAS,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD,EAAE,iIAAA,CAAA,eAAY;IACvC,MAAM,gBAAgB;QACpB,IAAI,OAAO,OAAO,CAAC,kCAAkC;YACnD,SAAS,CAAA,GAAA,iIAAA,CAAA,SAAM,AAAD;YACd,OAAO,YAAY,CAAC,UAAU,CAAC;QACjC;IACF;IAEA,qBACE;kBACE,cAAA,6LAAC;YAAO,WAAU;sBAChB,cAAA,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACf,6LAAC;oCAAI,KAAI;oCAAqB,KAAI;;;;;;8CAChC,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAK;;wCACR;sDACD,6LAAC;;8DACC,6LAAC;8DAAE;;;;;;gDAAM;;;;;;;;;;;;;;;;;;;sCAKf,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;;kDACC,6LAAC;kDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;sDAAO;;;;;;;;;;;kDAEpB,6LAAC;kDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;sDAAW;;;;;;;;;;;kDAExB,6LAAC;kDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;sDAAW;;;;;;;;;;;;;;;;;;;;;;sCAK5B,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;0CACE,uBACC;;sDACE,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;sDACT,cAAA,6LAAC;gDAAO,WAAU;;oDAAY;kEAE5B,6LAAC;wDAAI,KAAI;wDAAsB,KAAI;;;;;;;;;;;;;;;;;sDAGvC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAO,SAAS;8DACf,cAAA,6LAAC,+JAAA,CAAA,UAAI;wDAAC,MAAK;kEACT,cAAA,6LAAC;sEAAO;;;;;;;;;;;;;;;;8DAGZ,6LAAC,+JAAA,CAAA,UAAI;oDAAC,MAAK;8DACT,cAAA,6LAAC;wDAAI,KAAI;wDAAqB,KAAI;;;;;;;;;;;;;;;;;;iEAKxC;;sDACE,6LAAC;4CAAO,WAAU;;8DAChB,6LAAC,+JAAA,CAAA,UAAI;oDAAC,MAAK;8DAAQ;;;;;;8DACnB,6LAAC;oDAAI,KAAI;oDAAsB,KAAI;;;;;;;;;;;;sDAGrC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;8DACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;wDAAC,MAAK;kEAAS;;;;;;;;;;;8DAEtB,6LAAC;oDAAI,KAAI;oDAAqB,KAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWxD;GAlFgB;;QACG,4JAAA,CAAA,cAAW;QACb,4JAAA,CAAA,cAAW;;;KAFZ","debugId":null}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/redux/slices/products.ts"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  products: {\n    items: [],\n    status: 'loading',\n  },\n  category: {\n    items: [],\n    status: 'loading',\n  },\n};\n\nconst productsSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {},\n});\n\nexport const productsReducer = productsSlice.reducer;\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,eAAe;IACnB,UAAU;QACR,OAAO,EAAE;QACT,QAAQ;IACV;IACA,UAAU;QACR,OAAO,EAAE;QACT,QAAQ;IACV;AACF;AAEA,MAAM,gBAAgB,CAAA,GAAA,8LAAA,CAAA,cAAW,AAAD,EAAE;IAChC,MAAM;IACN;IACA,UAAU,CAAC;AACb;AAEO,MAAM,kBAAkB,cAAc,OAAO","debugId":null}},
    {"offset": {"line": 555, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/redux/store.ts"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\nimport { productsReducer } from './slices/products';\nimport { authReducer } from './slices/auth';\n\nconst store = configureStore({\n  reducer: {\n    products: productsReducer,\n    auth: authReducer,\n  },\n});\n\nexport default store;\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEA,MAAM,QAAQ,CAAA,GAAA,8LAAA,CAAA,iBAAc,AAAD,EAAE;IAC3B,SAAS;QACP,UAAU,qIAAA,CAAA,kBAAe;QACzB,MAAM,iIAAA,CAAA,cAAW;IACnB;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 580, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/shared/utils/context.ts"],"sourcesContent":["import { useContext } from 'react';\n\nexport function createUseContext<T>(context: React.Context<T>) {\n  return () => {\n    const contextValue = useContext(context);\n    if (!contextValue) {\n      throw new Error('useContext must be inside a Provider with a value');\n    }\n    return contextValue;\n  };\n}\n"],"names":[],"mappings":";;;AAAA;;AAEO,SAAS,iBAAoB,OAAyB;;IAC3D,UAAO;;QACL,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;QAChC,IAAI,CAAC,cAAc;YACjB,MAAM,IAAI,MAAM;QAClB;QACA,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 605, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/shared/utils/index.ts"],"sourcesContent":["export * from './context';\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 626, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/widgets/context/ui/context.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, createContext, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { Item, CartItem, ContextType } from \"#/types\";\nimport { createUseContext } from \"#/shared/utils\";\n\nexport const CartContext = createContext<ContextType | null>(null);\n\nconst API_URL = \"https://673876654eb22e24fca800c5.mockapi.io\";\n\ntype Props = {\n  children?: React.ReactNode;\n};\n\nexport const Context: React.FC<Props> = ({ children }) => {\n  const [items, setItems] = useState<Item[]>([]);\n  const [cartItems, setCartItems] = useState<CartItem[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Состояние для активной категории товаров\n  const [activeCategory, setActiveCategory] = useState<string>(\"\");\n\n  // Преобразование данных корзины\n  const processedItems =\n    cartItems?.map((item) => ({\n      ...item,\n      price: Number(item.price),\n    })) || [];\n\n  // Загрузка данных из API\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const [itemsResponse, cartResponse] = await Promise.allSettled([\n        axios.get(`${API_URL}/items`),\n        axios.get(`${API_URL}/cart`),\n      ]);\n\n      if (itemsResponse.status === \"fulfilled\")\n        setItems(itemsResponse.value.data);\n      if (cartResponse.status === \"fulfilled\")\n        setCartItems(cartResponse.value.data);\n    } catch (err) {\n      setError(\"Ошибка при загрузке данных!\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  type NewItem = Omit<Item, \"id\">;\n\n  // Добавление товара\n  const addProduct = async (newProduct: NewItem): Promise<void> => {\n    try {\n      const { data } = await axios.post(`${API_URL}/items`, newProduct);\n      setItems((prev) => [...prev, data]);\n    } catch (error) {\n      console.error(\"Ошибка при добавлении товара:\", error);\n      // setError(\"Ошибка при добавлении товара.\");\n    }\n  };\n\n  // Обновление товара\n  const updateProduct = async (\n    id: string,\n    updatedData: Partial<Item>\n  ): Promise<void> => {\n    try {\n      const { data } = await axios.put(`${API_URL}/items/${id}`, updatedData);\n      setItems((prev) =>\n        prev.map((item) => (item.id === id ? { ...item, ...data } : item))\n      );\n    } catch (error) {\n      setError(\"Ошибка при обновлении товара.\");\n    }\n  };\n\n  // Удаление товара\n  const deleteProduct = async (id: string): Promise<void> => {\n    try {\n      await axios.delete(`${API_URL}/items/${id}`);\n      setItems((prev) => prev.filter((item) => item.id !== id));\n    } catch (error) {\n      setError(\"Ошибка при удалении товара.\");\n    }\n  };\n\n  const onAddToCart = useCallback(\n    async (item: Item) => {\n      try {\n        const existingItem = cartItems.find(\n          (cartItem) => cartItem.title === item.title\n        );\n\n        if (existingItem) {\n          // Обновляем количество на сервере\n          const updatedItem = {\n            ...existingItem,\n            quantity: existingItem.quantity + 1,\n          };\n          await axios.put(\n            `https://673876654eb22e24fca800c5.mockapi.io/cart/${existingItem.id}`,\n            updatedItem\n          );\n          setCartItems((prevItems) =>\n            prevItems.map((el) =>\n              el.id === existingItem.id ? updatedItem : el\n            )\n          );\n        } else {\n          // Добавляем новый товар\n          const newItem = { ...item, quantity: 1 };\n          const { data } = await axios.post(\n            \"https://673876654eb22e24fca800c5.mockapi.io/cart\",\n            newItem\n          );\n          setCartItems((prevItems) => [...prevItems, data]);\n        }\n      } catch (error) {\n        console.error(\"Ошибка при добавлении товара в корзину:\", error);\n      }\n    },\n    [cartItems]\n  );\n\n  // Функция для удаления товара из корзины\n  const onRemoveItem = async (id: string): Promise<void> => {\n    try {\n      // Находим товар по ID\n      const itemToUpdate = cartItems.find((item) => item.id === id);\n\n      if (!itemToUpdate) return;\n\n      if (itemToUpdate.quantity > 1) {\n        // Если количество больше 1, уменьшаем количество\n        const updatedItem = {\n          ...itemToUpdate,\n          quantity: itemToUpdate.quantity - 1,\n        };\n        await axios.put(\n          `https://673876654eb22e24fca800c5.mockapi.io/cart/${id}`,\n          updatedItem\n        );\n\n        // Обновляем локальное состояние\n        setCartItems((prevItems) =>\n          prevItems.map((item) => (item.id === id ? updatedItem : item))\n        );\n      } else {\n        // Если количество равно 1, удаляем товар полностью\n        await axios.delete(\n          `https://673876654eb22e24fca800c5.mockapi.io/cart/${id}`\n        );\n        setCartItems((prevItems) => prevItems.filter((item) => item.id !== id));\n      }\n    } catch (error) {\n      console.error(\"Ошибка при обновлении количества товара:\", error);\n    }\n  };\n\n  // Функция для проверки, добавлен ли товар в корзину\n  const isItemInCart = (title: string): boolean => {\n    return cartItems.some((cartItem) => cartItem.title === title);\n  };\n\n  const value = {\n    items,\n    cartItems,\n    processedItems,\n    addProduct,\n    updateProduct,\n    deleteProduct,\n    onAddToCart,\n    onRemoveItem,\n    isItemInCart,\n    activeCategory,\n    setActiveCategory,\n    loading,\n    error,\n  };\n\n  return (\n    <CartContext.Provider value={value}>\n      {loading ? <span className=\"loader\"></span> : children}\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n    </CartContext.Provider>\n  );\n};\n\nexport const useAppContext = createUseContext(CartContext);\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 840, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/widgets/context/ui/index.ts"],"sourcesContent":["export * from \"./context\";\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 861, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/widgets/context/index.ts"],"sourcesContent":["export * from \"./ui\";\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 882, "column": 0}, "map": {"version":3,"sources":["file:///app/apps/frontend/src/widgets/providers/ui/providers.tsx"],"sourcesContent":["\"use client\";\nimport store from \"#/redux/store\";\nimport { Context } from \"#/widgets/context\";\nimport React from \"react\";\nimport { Provider } from \"react-redux\";\n\ninterface ProvidersProps {\n  children: React.ReactNode;\n}\n\nexport const Providers = ({ children }: ProvidersProps) => {\n  return (\n    <>\n      <Provider store={store}>\n        <Context>{children}</Context>\n      </Provider>\n    </>\n  );\n};\n"],"names":[],"mappings":";;;;AACA;AACA;AAAA;AAEA;AAJA;;;;;AAUO,MAAM,YAAY,CAAC,EAAE,QAAQ,EAAkB;IACpD,qBACE;kBACE,cAAA,6LAAC,4JAAA,CAAA,WAAQ;YAAC,OAAO,wHAAA,CAAA,UAAK;sBACpB,cAAA,6LAAC,8IAAA,CAAA,UAAO;0BAAE;;;;;;;;;;;;AAIlB;KARa","debugId":null}}]
}